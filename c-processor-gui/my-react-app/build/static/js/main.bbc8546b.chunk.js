(this["webpackJsonpc-processor"]=this["webpackJsonpc-processor"]||[]).push([[0],{4:function(e,t,a){e.exports=a(9)},9:function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),n=a(3),l=a.n(n),s=a(1);var c=function(){const[e,t]=Object(r.useState)(""),[a,n]=Object(r.useState)(!1),[l,c]=Object(r.useState)(null),[d,m]=Object(r.useState)(()=>{const e={};for(let t=0;t<=31;t++)e["R".concat(t)]=0;return e.PC=0,e}),[i,u]=Object(r.useState)(()=>{const e={};for(let t=1;t<=2048;t++)e[t]=0;return e});return o.a.createElement("div",{className:"min-h-screen bg-gray-100 p-6"},o.a.createElement("div",{className:"text-center mb-8"},o.a.createElement("h1",{className:"text-4xl font-bold text-gray-800 mb-2"},"C-Processor"),o.a.createElement("div",{className:"w-24 h-1 bg-blue-500 mx-auto"})),o.a.createElement("div",{className:"max-w-4xl mx-auto mb-8"},o.a.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-300 p-6"},o.a.createElement("label",{htmlFor:"instruction",className:"block text-lg font-medium text-gray-700 mb-3"},"Enter Instructions:"),o.a.createElement("div",{className:"flex gap-4"},o.a.createElement("textarea",{id:"instruction",value:e,rows:8,onChange:e=>{t(e.target.value)},disabled:a,className:"h-48 flex-1 px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-lg disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Enter instructions line by line..."}),o.a.createElement("button",{onClick:async()=>{if(e.trim()){n(!0);try{if(window.electronAPI){console.log("Running in Electron environment"),console.log("Sending instruction:",e);const t=await window.electronAPI.createFileAndRunExe(e);if(console.log("Execution result:",t),c(t),t.success){console.log("Success:",t.message),console.log("File created at:",t.filePath),console.log("Executable path:",t.exePath),console.log("Working directory:",t.workingDir),console.log("Exit code:",t.exitCode),t.stdout&&console.log("Program output:",t.stdout),t.stderr&&console.log("Program errors:",t.stderr),t.registersData&&Object.keys(t.registersData).length>0?(console.log("Updating registers with data:",t.registersData),m(e=>{const a=Object(s.a)({},e);return Object.keys(a).forEach(e=>{a[e]=0}),Object.entries(t.registersData).forEach(e=>{let[t,r]=e;a[t]=r}),a}),console.log("Registers updated from log file")):console.log("No register data received"),t.memoryData&&Object.keys(t.memoryData).length>0?(console.log("Updating memory with data:",t.memoryData),u(e=>{const a=Object(s.a)({},e);return Object.keys(a).forEach(e=>{a[parseInt(e)]=0}),Object.entries(t.memoryData).forEach(e=>{let[t,r]=e;a[parseInt(t)]=r}),a}),console.log("Memory updated from log file")):console.log("No memory data received");let e="Success! File created and main.exe executed.\n";e+="File: ".concat(t.filePath,"\n"),e+="Executable: ".concat(t.exePath,"\n"),e+="Exit Code: ".concat(t.exitCode,"\n"),e+="Output: ".concat(t.stdout||"No output","\n"),t.stderr&&(e+="Errors: ".concat(t.stderr,"\n")),e+="Registers updated: ".concat(Object.keys(t.registersData||{}).length,"\n"),e+="Memory updated: ".concat(Object.keys(t.memoryData||{}).length),alert(e)}else{console.error("Execution failed:",t);let e="Execution failed!\n";e+="Exit Code: ".concat(t.exitCode,"\n"),e+="Error: ".concat(t.message,"\n"),t.stderr&&(e+="Stderr: ".concat(t.stderr,"\n")),t.stdout&&(e+="Stdout: ".concat(t.stdout)),alert(e)}}else{console.log("Running in browser environment");const t=new Blob([e||"No instruction provided"],{type:"text/plain"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="test.txt",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a),alert("Running in browser mode. File downloaded as test.txt. Run as desktop app for full functionality.")}}catch(t){console.error("Error:",t),alert("Error: "+t.message)}finally{n(!1)}}else alert("Please enter some instructions before starting.")},disabled:a,className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:ring-2 focus:ring-green-500 focus:ring-offset-2 font-medium disabled:bg-gray-400 disabled:cursor-not-allowed min-w-[80px]"},a?"Running...":"Start")),l&&o.a.createElement("div",{className:"mt-4 p-3 bg-gray-50 rounded border text-sm"},o.a.createElement("div",{className:"font-medium text-gray-700 mb-2"},"Last Execution:"),o.a.createElement("div",{className:"text-gray-600"},o.a.createElement("div",null,"Status: ",l.success?"Success":"Failed"),o.a.createElement("div",null,"Exit Code: ",l.exitCode),o.a.createElement("div",null,"Executable: ",l.exePath),l.stdout&&o.a.createElement("div",null,"Output: ",l.stdout),l.stderr&&o.a.createElement("div",{className:"text-red-600"},"Errors: ",l.stderr))))),o.a.createElement("div",{className:"max-w-6xl mx-auto"},o.a.createElement("div",{className:"flex gap-0"},(()=>{const e=Object.entries(d);return o.a.createElement("div",{className:"w-1/2 pr-4"},o.a.createElement("h3",{className:"text-lg font-semibold mb-3 text-gray-800"},"Registers"),o.a.createElement("div",{className:"bg-white border border-gray-300 rounded-lg shadow-sm max-h-96 overflow-auto"},o.a.createElement("table",{className:"w-full text-sm"},o.a.createElement("thead",{className:"bg-gray-50 sticky top-0"},o.a.createElement("tr",null,o.a.createElement("th",{className:"px-4 py-2 text-left font-medium text-gray-700 border-b"},"Register"),o.a.createElement("th",{className:"px-4 py-2 text-left font-medium text-gray-700 border-b"},"Value"))),o.a.createElement("tbody",null,e.map(e=>{let[t,a]=e;return o.a.createElement("tr",{key:t,className:"hover:bg-gray-50"},o.a.createElement("td",{className:"px-4 py-2 font-mono text-blue-600 border-b border-gray-100"},t),o.a.createElement("td",{className:"px-4 py-2 font-mono border-b border-gray-100"},a))})))))})(),(()=>{const e=Object.entries(i);return o.a.createElement("div",{className:"w-1/2 pl-4"},o.a.createElement("h3",{className:"text-lg font-semibold mb-3 text-gray-800"},"Memory"),o.a.createElement("div",{className:"bg-white border border-gray-300 rounded-lg shadow-sm max-h-96 overflow-auto"},o.a.createElement("table",{className:"w-full text-sm"},o.a.createElement("thead",{className:"bg-gray-50 sticky top-0"},o.a.createElement("tr",null,o.a.createElement("th",{className:"px-4 py-2 text-left font-medium text-gray-700 border-b"},"Address"),o.a.createElement("th",{className:"px-4 py-2 text-left font-medium text-gray-700 border-b"},"Value"))),o.a.createElement("tbody",null,e.map(e=>{let[t,a]=e;return o.a.createElement("tr",{key:t,className:"hover:bg-gray-50"},o.a.createElement("td",{className:"px-4 py-2 font-mono text-green-600 border-b border-gray-100"},t),o.a.createElement("td",{className:"px-4 py-2 font-mono border-b border-gray-100"},a))})))))})())))};l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(c,null)),document.getElementById("root"))}},[[4,1,2]]]);
//# sourceMappingURL=main.bbc8546b.chunk.js.map